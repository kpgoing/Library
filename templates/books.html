<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<script src="/static/js/jquery-1.8.2.min.js"></script>
	<script src="/static/js/vue.js"></script>
	<script src="/static/js/books.js"></script>
    <script type="text/javascript">
        Vue.config.delimiters = ['${', '}'];
    </script>
         <link rel="stylesheet" type="text/css" href="/static/css/buttons.css" />
	<link rel="stylesheet" type="text/css" href="/static/css/books.css" />
</head>
<body>
<div id="app" class = 'content'>
  <h1>Manager books</h1>
        <div class="logout">
            <form action="/admin/logout" method="POST">
        <button class="button button-3d button-uppercase button-royal">loggout</button>
                </form>
    </div>
  <label for="bookname" class="label">new book </label>
    <input v-model="newBook" v-on:keyup.enter="addToBooks" class = 'input' id="bookname">
    <button v-on:click="addToBooks" class="add button button-3d button-action button-pill">add</button>
  <div class = 'books'>
    <div v-for="book in books | filterBy newBook in 'name'" class = 'book' id="${ $index }">
      <span class = 'name'>《${book.name}》 </span>剩余:
        <span class= "remainder"> ${book.remainder}       </span>
        <span class= "borrow  ${book.borrow == book.count? 'hide' : 'show'}">已借出: ${book.borrow}</span>
        <span class= "reservation ${book.borrow == book.count? 'show' : 'hide'}">全部都已借出 剩余未预约: ${book.reservation}</span>
      <button v-on:click="removeBook($index)" class='right'>X</button>
    </div>
  </div>
</div>
</body>
</html>